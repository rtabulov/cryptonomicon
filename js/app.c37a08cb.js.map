{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/api.js","webpack:///./src/components/AddTicker.vue","webpack:///./src/components/AddButton.vue","webpack:///./src/components/AddButton.vue?22de","webpack:///./src/components/AddTicker.vue?7204","webpack:///./src/components/CryptoGraph.vue","webpack:///./src/components/CryptoGraph.vue?c9cc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","xmlns","fill","viewBox","cx","cy","stroke","stroke-width","aria-hidden","fill-rule","clip-rule","pageStatus","errorMessage","add","getHints","checkTicker","tickerExists","tickers","filter","type","placeholder","page","hasNextPage","paginatedTickers","select","formatPrice","price","handleDelete","selectedTicker","graph","heading","API_KEY","BTCPrice","tickersHandlers","Map","ws","WebSocket","AGGREGATE_INDEX_TYPE","INVALID_SUB_TYPE","STREAMER_WELCOME_TYPE","TOO_MANY_SOCKETS_TYPE","INVALID_SUB","SHARED_TYPES","SUBSCRIBE","UNSUBSCRIBE","UPDATE","sw","SharedWorker","subscribeToTicker","ticker","cb","tsym","subscribers","set","sendToWs","action","subs","port","postMessage","fsym","unsubscribeFromTicker","delete","paramFsym","param","split","paramTsym","message","fn","send","JSON","stringify","readyState","OPEN","addEventListener","start","e","parse","TYPE","cbs","forEach","msg","MESSAGE","info","INFO","PARAMETER","error","FROMSYMBOL","PRICE","TOSYMBOL","for","handleInput","id","hints","hint","hintClick","width","height","script","render","components","AddButton","props","Function","required","default","emits","v","methods","this","$emit","toUpperCase","computed","xmlns:xlink","xmlns:svgjs","version","x","y","style","xml:space","data-original","ref","clickHandler","slicedGraph","bar","idx","graphbarWidth","Array","reqiured","Number","String","maxGraphLength","mounted","calculateMaxGraphLength","beforeUnmount","removeEventListener","normalizedGraph","maxValue","Math","max","minValue","min","map","$refs","ceil","clientWidth","leading","MAX_GRAPH_LENGTH","AddTicker","CryptoGraph","created","a","timeout","response","cryptoObject","Data","toString","list","localStorage","getItem","subscribe","fromEntries","URLSearchParams","location","search","entries","filteredTickers","endIndex","includes","startIndex","pageStateOptions","watch","history","pushState","document","title","pathname","setItem","newtickers","res","keys","coin","FullName","getTicker","console","log","find","toPrecision","toFixed","tickerIsValid","newTicker","tickerToRemove","clearInterval","intervalID","createApp","App","mount"],"mappings":"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","file":"js/app.c37a08cb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cryptonomicon/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div class=\"bg-gray-100\">\n    <div class=\"container mx-auto flex flex-col items-center p-4\">\n      <div\n        v-if=\"pageStatus === 0\"\n        class=\"\n          fixed\n          w-100\n          h-100\n          opacity-80\n          bg-purple-800\n          inset-0\n          z-50\n          flex\n          items-center\n          justify-center\n        \"\n      >\n        <svg\n          class=\"animate-spin -ml-1 mr-3 h-12 w-12 text-white\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n        >\n          <circle\n            class=\"opacity-25\"\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            stroke-width=\"4\"\n          ></circle>\n          <path\n            class=\"opacity-75\"\n            fill=\"currentColor\"\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          ></path>\n        </svg>\n      </div>\n\n      <div\n        v-else-if=\"pageStatus === -1\"\n        class=\"\n          fixed\n          w-100\n          h-100\n          opacity-80\n          text-center\n          bg-purple-800\n          inset-0\n          z-50\n          flex flex-col\n          items-center\n          justify-center\n          text-white\n        \"\n      >\n        <h1 class=\"text-2xl mx-16 mb-4\">\n          Coin list fetch failed. Try reloading this page.\n        </h1>\n        <pre class=\"text-base block\">{{ errorMessage }}</pre>\n      </div>\n\n      <div v-else class=\"container\">\n        <add-ticker\n          @add-ticker=\"add\"\n          :getHints=\"getHints\"\n          :checkTicker=\"tickerExists\"\n        />\n\n        <template v-if=\"tickers.length\">\n          <hr class=\"w-full border-t border-gray-600 my-4\" />\n          <div>\n            <label>Поиск</label>\n            <input\n              v-model=\"filter\"\n              type=\"text\"\n              class=\"\n                block\n                mt-1\n                relative\n                shadow-md\n                w-52\n                pr-10\n                border-gray-300\n                text-gray-900\n                focus:outline-none\n                focus:ring-gray-500\n                focus:border-gray-500\n                sm:text-sm\n                rounded-md\n              \"\n              placeholder=\"например DOGE\"\n            />\n\n            <div class=\"space-x-4 my-4\">\n              <button\n                class=\"\n                  inline-flex\n                  items-center\n                  py-2\n                  px-4\n                  border border-transparent\n                  shadow-sm\n                  text-sm\n                  leading-4\n                  font-medium\n                  rounded-full\n                  text-white\n                  bg-gray-600\n                  hover:bg-gray-700\n                  transition-colors\n                  duration-300\n                  focus:outline-none\n                  focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\n                \"\n                @click=\"page -= 1\"\n                v-if=\"page > 1\"\n              >\n                Назад\n              </button>\n              <button\n                class=\"\n                  inline-flex\n                  items-center\n                  py-2\n                  px-4\n                  border border-transparent\n                  shadow-sm\n                  text-sm\n                  leading-4\n                  font-medium\n                  rounded-full\n                  text-white\n                  bg-gray-600\n                  hover:bg-gray-700\n                  transition-colors\n                  duration-300\n                  focus:outline-none\n                  focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\n                \"\n                @click=\"page += 1\"\n                v-if=\"hasNextPage\"\n              >\n                Вперед\n              </button>\n            </div>\n          </div>\n          <hr class=\"w-full border-t border-gray-600 my-4\" />\n          <dl class=\"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3 items-center\">\n            <div\n              v-for=\"t in paginatedTickers\"\n              :key=\"t.name\"\n              @click=\"select(t)\"\n              class=\"\n                bg-white\n                overflow-hidden\n                shadow\n                rounded-lg\n                border-purple-800 border-solid\n                cursor-pointer\n              \"\n              :class=\"{\n                'border-4': selectedTicker?.name === t.name,\n                'my-1': selectedTicker?.name !== t.name,\n                'bg-red-100': t.error\n              }\"\n            >\n              <div class=\"px-4 py-5 sm:p-6 text-center\">\n                <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                  {{ t.name }} - USD\n                </dt>\n                <dd class=\"mt-1 text-3xl font-semibold text-gray-900\">\n                  {{ formatPrice(t.price) }}\n                </dd>\n              </div>\n              <div class=\"w-full border-t border-gray-200\"></div>\n              <button\n                @click.stop=\"handleDelete(t)\"\n                class=\"\n                  flex\n                  items-center\n                  justify-center\n                  font-medium\n                  w-full\n                  bg-gray-100\n                  px-4\n                  py-4\n                  sm:px-6\n                  text-md text-gray-500\n                  hover:text-gray-600\n                  hover:bg-gray-200\n                  hover:opacity-20\n                  transition-all\n                  focus:outline-none\n                \"\n              >\n                <svg\n                  class=\"h-5 w-5\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"#718096\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n                    clip-rule=\"evenodd\"\n                  ></path></svg\n                >Удалить\n              </button>\n            </div>\n          </dl>\n          <hr class=\"w-full border-t border-gray-600 my-4\" />\n        </template>\n\n        <crypto-graph\n          v-if=\"selectedTicker\"\n          :graph=\"graph\"\n          :heading=\"`${selectedTicker.name} - USD`\"\n          @close-click=\"selectedTicker = null\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// [x] 6. Наличие в состоянии ЗАВИСИМЫХ ДАННЫХ | Критичность: 5+\n// [ ] 4. Запросы напрямую внутри компонента (???) | Критичность: 5\n// [x] 2. При удалении остается подписка на загрузку тикера | Критичность: 5\n// [x] 5. Обработка ошибок API | Критичность: 5\n// [x] 3. Количество запросов | Критичность: 4\n// [x] 8. При удалении тикера не изменяется localStorage | Критичность: 4\n// [x] 1. Одинаковый код в watch | Критичность: 3\n// [ ] 9. localStorage и анонимные вкладки | Критичность: 3\n// [ ] 7. График ужасно выглядит если будет много цен | Критичность: 2\n// [ ] 10. Магические строки и числа (URL, 5000 миллисекунд задержки, ключ локал стораджа, количество на странице) |  Критичность: 1\n\n// Параллельно\n// [x] График сломан если везде одинаковые значения\n// [x] При удалении тикера остается выбор\n\nimport { subscribeToTicker, unsubscribeFromTicker } from \"./api\";\nimport axios from \"axios\";\nimport AddTicker from \"./components/AddTicker.vue\";\nimport CryptoGraph from \"./components/CryptoGraph.vue\";\n\n// const DEFAULT_COINS = [\n//   { name: \"BTC\" },\n//   { name: \"ETH\" },\n//   { name: \"DOGE\" },\n//   { name: \"XPR\" },\n//   { name: \"ADA\" },\n//   { name: \"USDT\" },\n//   { name: \"LINK\" },\n//   { name: \"UNI\" },\n//   { name: \"DOT\" }\n// ];\n\nconst MAX_GRAPH_LENGTH = 80;\n\nexport default {\n  name: \"App\",\n\n  components: {\n    AddTicker,\n    CryptoGraph\n  },\n\n  async created() {\n    // load coin list\n    try {\n      let response = await axios.get(\n        \"https://min-api.cryptocompare.com/data/all/coinlist?summary=true\",\n        {\n          timeout: 5000\n        }\n      );\n      this.cryptoObject = response.data.Data;\n\n      this.pageStatus = 1;\n    } catch (e) {\n      this.pageStatus = -1;\n      this.errorMessage = e.toString();\n    }\n\n    // load tickers from localStorage\n    let list = window.localStorage.getItem(\"cryptonomicon-list\");\n    this.tickers = JSON.parse(list) || [];\n    this.tickers.forEach(t => {\n      subscribeToTicker(t.name, this.subscribe);\n    });\n    if (this.tickers.length > 0) {\n      this.select(this.tickers[0]);\n    }\n\n    // load filter and page\n    let { filter, page } = Object.fromEntries(\n      new URLSearchParams(window.location.search).entries()\n    );\n    page && (this.page = +page);\n    filter && (this.filter = filter);\n  },\n\n  data() {\n    return {\n      tickers: [],\n      selectedTicker: null,\n      graph: [],\n      filter: \"\",\n      page: 1,\n      errorMessage: null,\n      pageStatus: 1,\n      cryptoObject: {}\n    };\n  },\n\n  computed: {\n    hasNextPage() {\n      return this.filteredTickers.length > this.endIndex;\n    },\n\n    filteredTickers() {\n      return this.tickers.filter(t =>\n        t.name.includes(this.filter.toUpperCase())\n      );\n    },\n\n    startIndex() {\n      let start = (this.page - 1) * 6;\n      return start;\n    },\n\n    endIndex() {\n      return this.page * 6;\n    },\n\n    paginatedTickers() {\n      return this.filteredTickers.slice(this.startIndex, this.endIndex);\n    },\n\n    pageStateOptions() {\n      return { filter: this.filter, page: this.page };\n    }\n  },\n\n  watch: {\n    graph(v) {\n      if (v.length > MAX_GRAPH_LENGTH) {\n        this.graph = v.slice(-MAX_GRAPH_LENGTH);\n      }\n    },\n    filter() {\n      this.page = 1;\n    },\n\n    pageStateOptions(value) {\n      window.history.pushState(\n        null,\n        window.document.title,\n        `${window.location.pathname}?page=${value.page}&filter=${value.filter}`\n      );\n    },\n\n    selectedTicker() {\n      this.graph = [];\n    },\n\n    tickers(value) {\n      // sync to localstorage\n      localStorage.setItem(\"cryptonomicon-list\", JSON.stringify(value));\n    },\n\n    paginatedTickers(newtickers) {\n      if (newtickers.length == 0 && this.page > 1) {\n        this.page -= 1;\n      }\n    }\n  },\n\n  methods: {\n    getHints(ticker) {\n      const res = Object.keys(this.cryptoObject)\n        .filter(\n          coin =>\n            coin.includes(ticker) ||\n            this.cryptoObject[coin].FullName.toUpperCase().includes(ticker)\n        )\n        .slice(0, 4);\n      return res;\n    },\n    tickerExists(name) {\n      return !!this.getTicker(name);\n    },\n\n    subscribe({ name, price, error, message }) {\n      if (error) {\n        console.log({ error, message });\n        this.getTicker(name).error = message;\n        this.tickers = this.tickers.slice();\n        return;\n      }\n\n      this.getTicker(name).price = price;\n      this.tickers = this.tickers.slice();\n      if (this.selectedTicker?.name === name) {\n        this.graph = [...this.graph, price];\n      }\n    },\n\n    getTicker(name) {\n      return this.tickers.find(t => t.name === name);\n    },\n\n    formatPrice(price = 0) {\n      if (typeof price !== \"number\") {\n        return price;\n      }\n\n      price = Number(price);\n\n      if (price < 1) {\n        return price.toPrecision(3);\n      }\n\n      return price.toFixed(2);\n    },\n    tickerIsValid(ticker) {\n      return Object.keys(this.cryptoObject).includes(ticker);\n    },\n\n    add(ticker) {\n      if (!this.tickerIsValid(ticker)) {\n        return;\n      }\n\n      const newTicker = {\n        name: ticker,\n        price: \"-\"\n      };\n\n      this.tickers = [...this.tickers, newTicker];\n      this.filter = \"\";\n\n      subscribeToTicker(newTicker.name, this.subscribe);\n    },\n\n    select(t) {\n      this.selectedTicker = t;\n    },\n\n    handleDelete(tickerToRemove) {\n      clearInterval(tickerToRemove.intervalID);\n      this.tickers = this.tickers.filter(t => t.name !== tickerToRemove.name);\n\n      // remove selected if it was deleted\n      if (tickerToRemove.name === this.selectedTicker?.name) {\n        this.selectedTicker = null;\n      }\n\n      unsubscribeFromTicker(tickerToRemove.name, this.subscribe);\n    }\n  }\n};\n</script>\n","const API_KEY =\r\n  \"95bdf7e8c4ef1827e5f4b13d319b2ac9b409aa62feedc30f0f6553924d6ab246\";\r\n\r\nlet BTCPrice = null;\r\nconst tickersHandlers = new Map();\r\n\r\nconst ws = new WebSocket(\r\n  `wss://streamer.cryptocompare.com/v2?api_key=${API_KEY}`\r\n);\r\nconst AGGREGATE_INDEX_TYPE = \"5\";\r\nconst INVALID_SUB_TYPE = \"500\";\r\nconst STREAMER_WELCOME_TYPE = \"20\";\r\nconst TOO_MANY_SOCKETS_TYPE = \"429\";\r\nconst INVALID_SUB = \"INVALID_SUB\";\r\n\r\nconst SHARED_TYPES = {\r\n  SUBSCRIBE: \"subscribe\",\r\n  UNSUBSCRIBE: \"unsubscribe\",\r\n  UPDATE: \"update\"\r\n};\r\n\r\nconst sw = new SharedWorker(\"/worker.js\");\r\nsw.port.start();\r\n\r\nws.addEventListener(\"message\", e => {\r\n  const message = JSON.parse(e.data);\r\n  if (message.TYPE === STREAMER_WELCOME_TYPE) {\r\n    sw.port.addEventListener(\"message\", ({ data: { type, fsym, tsym } }) => {\r\n      if (type === SHARED_TYPES.SUBSCRIBE) {\r\n        sendToWs({\r\n          action: \"SubAdd\",\r\n          subs: [`5~CCCAGG~${fsym}~${tsym}`]\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (type === SHARED_TYPES.UNSUBSCRIBE) {\r\n        sendToWs({\r\n          action: \"SubRemove\",\r\n          subs: [`5~CCCAGG~${fsym}~${tsym}`]\r\n        });\r\n      }\r\n    });\r\n    return;\r\n  }\r\n\r\n  if (message.TYPE === TOO_MANY_SOCKETS_TYPE) {\r\n    sw.port.addEventListener(\"message\", ({ data: { data, type } }) => {\r\n      if (type === SHARED_TYPES.UPDATE) {\r\n        const { fsym, price, tsym } = data;\r\n        const cbs = tickersHandlers.get(fsym) || [];\r\n        cbs.forEach(cb => cb({ name: fsym, price, tsym }));\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// cross currency\r\nws.addEventListener(\"message\", e => {\r\n  const message = JSON.parse(e.data);\r\n  const { TYPE: type, MESSAGE: msg, INFO: info } = message;\r\n\r\n  if (type === INVALID_SUB_TYPE && msg === INVALID_SUB) {\r\n    const fsym = paramFsym(message.PARAMETER);\r\n    const tsym = paramTsym(message.PARAMETER);\r\n    if (tsym === \"USD\") {\r\n      const cbs = tickersHandlers.get(fsym) || [];\r\n      tickersHandlers.delete(fsym);\r\n      cbs.forEach(cb =>\r\n        subscribeToTicker(\r\n          fsym,\r\n          ({ name, error, price, message }) => {\r\n            cb({ name, error, price: BTCPrice * price, message });\r\n          },\r\n          \"BTC\"\r\n        )\r\n      );\r\n      return;\r\n    }\r\n\r\n    const cbs = tickersHandlers.get(fsym);\r\n    if (!cbs) {\r\n      unsubscribeFromTicker(fsym);\r\n      return;\r\n    }\r\n\r\n    cbs.forEach(cb => cb({ name: fsym, error: true, message: info }));\r\n    return;\r\n  }\r\n\r\n  if (type === AGGREGATE_INDEX_TYPE) {\r\n    const { FROMSYMBOL: fsym, PRICE: price, TOSYMBOL: tsym } = message;\r\n    if (price) {\r\n      sw.port.postMessage({ type: \"update\", data: { fsym, price, tsym } });\r\n\r\n      const cbs = tickersHandlers.get(fsym) || [];\r\n      cbs.forEach(cb => cb({ name: fsym, price, tsym }));\r\n    }\r\n  }\r\n});\r\n\r\nsubscribeToTicker(\"BTC\", ({ price }) => {\r\n  BTCPrice = price;\r\n});\r\n\r\nexport function subscribeToTicker(ticker, cb, tsym = \"USD\") {\r\n  const subscribers = tickersHandlers.get(ticker) || [];\r\n  tickersHandlers.set(ticker, [...subscribers, cb]);\r\n\r\n  sendToWs({\r\n    action: \"SubAdd\",\r\n    subs: [`5~CCCAGG~${ticker}~${tsym}`]\r\n  });\r\n\r\n  sw.port.postMessage({ type: \"subscribe\", fsym: ticker, tsym });\r\n}\r\n\r\nexport function unsubscribeFromTicker(ticker, cb) {\r\n  if (!cb && ticker !== \"BTC\") {\r\n    sendToWs({\r\n      action: \"SubRemove\",\r\n      subs: [`5~CCCAGG~${ticker}~USD`]\r\n    });\r\n    sendToWs({\r\n      action: \"SubRemove\",\r\n      subs: [`5~CCCAGG~${ticker}~BTC`]\r\n    });\r\n\r\n    tickersHandlers.delete(ticker);\r\n\r\n    sw.port.postMessage({ type: \"unsubscribe\", fsym: ticker, tsym: \"USD\" });\r\n    sw.port.postMessage({ type: \"unsubscribe\", fsym: ticker, tsym: \"BTC\" });\r\n\r\n    return;\r\n  }\r\n\r\n  tickersHandlers.set(\r\n    ticker,\r\n    tickersHandlers.get(ticker).filter(c => c !== cb)\r\n  );\r\n}\r\n\r\nfunction paramFsym(param) {\r\n  return param.split(\"~\")[2];\r\n}\r\nfunction paramTsym(param) {\r\n  return param.split(\"~\")[3];\r\n}\r\nfunction sendToWs(message) {\r\n  const fn = ws.send.bind(ws, JSON.stringify(message));\r\n\r\n  if (ws.readyState === WebSocket.OPEN) {\r\n    fn();\r\n    return;\r\n  }\r\n\r\n  ws.addEventListener(\"open\", fn);\r\n}\r\n","<template>\r\n  <section>\r\n    <div class=\"flex\">\r\n      <div class=\"max-w-xs\">\r\n        <label for=\"wallet\" class=\"block text-sm font-medium text-gray-700\"\r\n          >Тикер</label\r\n        >\r\n        <div class=\"mt-1 relative rounded-md shadow-md\">\r\n          <input\r\n            v-model=\"ticker\"\r\n            @keydown.enter=\"add\"\r\n            @input=\"handleInput\"\r\n            type=\"text\"\r\n            name=\"wallet\"\r\n            id=\"wallet\"\r\n            class=\"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md\"\r\n            placeholder=\"Например DOGE\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"flex bg-white shadow-md p-1 rounded-md flex-wrap\"\r\n          v-if=\"getHints && ticker.length > 0\"\r\n        >\r\n          <span\r\n            v-for=\"hint in hints\"\r\n            :key=\"hint\"\r\n            class=\"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer\"\r\n            @click=\"hintClick(hint)\"\r\n          >\r\n            {{ hint }}\r\n          </span>\r\n        </div>\r\n        <div v-if=\"tickerExists\" class=\"text-sm text-red-600\">\r\n          Такой тикер уже добавлен\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <add-button @click=\"add\" />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport AddButton from \"./AddButton.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    AddButton\r\n  },\r\n  props: {\r\n    getHints: {\r\n      type: Function,\r\n      required: false,\r\n      default: null\r\n    },\r\n    checkTicker: {\r\n      type: Function,\r\n      required: false,\r\n      default: null\r\n    }\r\n  },\r\n  emits: {\r\n    \"add-ticker\": function(v) {\r\n      return typeof v === \"string\" && v.length > 0;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ticker: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    add() {\r\n      if (this.ticker.length === 0) {\r\n        return;\r\n      }\r\n\r\n      this.$emit(\"add-ticker\", this.ticker);\r\n      this.ticker = \"\";\r\n    },\r\n    hintClick(hint) {\r\n      this.ticker = hint;\r\n      this.add();\r\n    },\r\n    handleInput() {\r\n      this.ticker = this.ticker.toUpperCase();\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    hints() {\r\n      return this.getHints(this.ticker);\r\n    },\r\n    tickerExists() {\r\n      return this.checkTicker && this.checkTicker(this.ticker);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <button\r\n    type=\"button\"\r\n    class=\"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\r\n  >\r\n    <!-- Heroicon name: solid/mail -->\r\n    <svg\r\n      class=\"-ml-0.5 mr-2 h-6 w-6\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"30\"\r\n      height=\"30\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"#ffffff\"\r\n    >\r\n      <path\r\n        d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\r\n      ></path>\r\n    </svg>\r\n    Добавить\r\n  </button>\r\n</template>\r\n","import { render } from \"./AddButton.vue?vue&type=template&id=ed0d6eb0\"\nconst script = {}\nscript.render = render\n\nexport default script","import { render } from \"./AddTicker.vue?vue&type=template&id=6a7f6d26\"\nimport script from \"./AddTicker.vue?vue&type=script&lang=js\"\nexport * from \"./AddTicker.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <section class=\"relative\">\r\n    <h3 class=\"text-lg leading-6 font-medium text-gray-900 my-8\">\r\n      {{ heading }}\r\n    </h3>\r\n    <button @click=\"clickHandler\" type=\"button\" class=\"absolute top-0 right-0\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        xmlns:svgjs=\"http://svgjs.com/svgjs\"\r\n        version=\"1.1\"\r\n        width=\"30\"\r\n        height=\"30\"\r\n        x=\"0\"\r\n        y=\"0\"\r\n        viewBox=\"0 0 511.76 511.76\"\r\n        style=\"enable-background: new 0 0 512 512\"\r\n        xml:space=\"preserve\"\r\n      >\r\n        <g>\r\n          <path\r\n            d=\"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z\"\r\n            fill=\"#718096\"\r\n            data-original=\"#000000\"\r\n          ></path>\r\n        </g>\r\n      </svg>\r\n    </button>\r\n    <div\r\n      ref=\"graph\"\r\n      class=\"flex items-end border-gray-600 border-b border-l h-64\"\r\n    >\r\n      <div\r\n        ref=\"graphbar\"\r\n        v-for=\"(bar, idx) in slicedGraph\"\r\n        :key=\"idx\"\r\n        :style=\"{ height: `${bar}%`, width: `${graphbarWidth}px` }\"\r\n        class=\"bg-purple-800 border\"\r\n      ></div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { debounce } from \"lodash\";\r\n\r\nexport default {\r\n  props: {\r\n    graph: {\r\n      type: Array,\r\n      reqiured: true\r\n    },\r\n    graphbarWidth: {\r\n      type: Number,\r\n      required: false,\r\n      default: 35\r\n    },\r\n    heading: {\r\n      type: String,\r\n      required: false,\r\n      default: \"Graph\"\r\n    }\r\n  },\r\n\r\n  emits: {\r\n    \"close-click\": null\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      maxGraphLength: 1\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.calculateMaxGraphLength();\r\n    window.addEventListener(\"resize\", this.calculateMaxGraphLength);\r\n  },\r\n\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"resize\", this.calculateMaxGraphLength);\r\n  },\r\n\r\n  computed: {\r\n    normalizedGraph() {\r\n      const maxValue = Math.max(...this.graph);\r\n      const minValue = Math.min(...this.graph);\r\n      if (minValue === maxValue) return new Array(this.graph.length).fill(50);\r\n      return this.graph.map(\r\n        price => 5 + ((price - minValue) * 95) / (maxValue - minValue)\r\n      );\r\n    },\r\n\r\n    slicedGraph() {\r\n      return this.normalizedGraph.slice(-this.maxGraphLength);\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    calculateMaxGraphLength: debounce(\r\n      function() {\r\n        if (!this.$refs.graph) {\r\n          return;\r\n        }\r\n\r\n        this.maxGraphLength = Math.ceil(\r\n          this.$refs.graph.clientWidth / this.graphbarWidth\r\n        );\r\n      },\r\n      150,\r\n      { leading: true }\r\n    ),\r\n    clickHandler() {\r\n      this.$emit(\"close-click\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./CryptoGraph.vue?vue&type=template&id=6b250079\"\nimport script from \"./CryptoGraph.vue?vue&type=script&lang=js\"\nexport * from \"./CryptoGraph.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=002e501e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./assets/tailwind.css\";\n\ncreateApp(App).mount(\"#app\");\n"],"sourceRoot":""}