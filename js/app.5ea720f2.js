(function(e){function t(t){for(var n,s,a=t[0],o=t[1],l=t[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&f.push(c[s][0]),c[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==c[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},c={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/cryptonomicon/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=o;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=(r("4de4"),r("b0c0"),{class:"bg-gray-100"}),i={class:"container mx-auto flex flex-col items-center p-4"},s={key:0,class:"fixed w-100 h-100 opacity-80 bg-purple-800 inset-0 z-50 flex items-center justify-center"},a={key:0,class:"text-2xl text-white mx-16 pb-12 text-center whitespace-pre-wrap"},o={key:1,class:"animate-spin -ml-1 mr-3 h-12 w-12 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},l=Object(n["f"])("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),u=Object(n["f"])("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),d={class:"container"},f=Object(n["f"])("div",{class:"w-full my-4"},null,-1),b={class:"flex"},p={class:"max-w-xs"},h=Object(n["f"])("label",{for:"wallet",class:"block text-sm font-medium text-gray-700"},"Тикер",-1),g={class:"mt-1 relative rounded-md shadow-md"},m={key:0,class:"flex bg-white shadow-md p-1 rounded-md flex-wrap"},j={key:1,class:"text-sm text-red-600"},O=Object(n["f"])("svg",{class:"-ml-0.5 mr-2 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"},[Object(n["f"])("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})],-1),y=Object(n["e"])(" Добавить "),x=Object(n["f"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),k=Object(n["f"])("label",null,"Фильтр",-1),v={class:"space-x-4 my-4"},w=Object(n["f"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),T={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},C={class:"px-4 py-5 sm:p-6 text-center"},M={class:"text-sm font-medium text-gray-500 truncate"},S={class:"mt-1 text-3xl font-semibold text-gray-900"},z=Object(n["f"])("div",{class:"w-full border-t border-gray-200"},null,-1),I=Object(n["f"])("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"},[Object(n["f"])("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),U=Object(n["e"])("Удалить "),P=Object(n["f"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),D={key:1,class:"relative"},V={class:"text-lg leading-6 font-medium text-gray-900 my-8"},E={class:"flex items-end border-gray-600 border-b border-l h-64"},_=Object(n["f"])("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},[Object(n["f"])("g",null,[Object(n["f"])("path",{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"})])],-1);function N(e,t,r,N,R,A){return Object(n["g"])(),Object(n["c"])("div",c,[Object(n["f"])("div",i,[!A.ready||R.errorMessage?(Object(n["g"])(),Object(n["c"])("div",s,[R.errorMessage?(Object(n["g"])(),Object(n["c"])("h1",a,Object(n["i"])(R.errorMessage),1)):(Object(n["g"])(),Object(n["c"])("svg",o,[l,u]))])):Object(n["d"])("",!0),Object(n["f"])("div",d,[f,Object(n["f"])("section",null,[Object(n["f"])("div",b,[Object(n["f"])("div",p,[h,Object(n["f"])("div",g,[Object(n["k"])(Object(n["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return R.ticker=e}),onKeydown:t[2]||(t[2]=Object(n["l"])((function(e){return A.add()}),["enter"])),type:"text",name:"wallet",id:"wallet",class:"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:"Например DOGE"},null,544),[[n["j"],R.ticker]])]),R.ticker.length>0?(Object(n["g"])(),Object(n["c"])("div",m,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(A.hints,(function(e){return Object(n["g"])(),Object(n["c"])("span",{key:e,class:"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer",onClick:function(t){return A.hintClick(e)}},Object(n["i"])(e),9,["onClick"])})),128))])):Object(n["d"])("",!0),A.tickerExists?(Object(n["g"])(),Object(n["c"])("div",j," Такой тикер уже добавлен ")):Object(n["d"])("",!0)])]),Object(n["f"])("button",{onClick:t[3]||(t[3]=function(e){return A.add()}),type:"button",class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},[O,y])]),R.tickers.length?(Object(n["g"])(),Object(n["c"])(n["a"],{key:0},[x,Object(n["f"])("div",null,[k,Object(n["k"])(Object(n["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return R.filter=e}),onKeydown:t[5]||(t[5]=Object(n["l"])((function(e){return A.add()}),["enter"])),type:"text",class:"block mt-1 relative shadow-md w-52 pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:"Поиск: например DOGE"},null,544),[[n["j"],R.filter]]),Object(n["f"])("div",v,[R.page>1?(Object(n["g"])(),Object(n["c"])("button",{key:0,class:"inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t[6]||(t[6]=function(e){return R.page-=1})}," Назад ")):Object(n["d"])("",!0),A.hasNextPage?(Object(n["g"])(),Object(n["c"])("button",{key:1,class:"inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t[7]||(t[7]=function(e){return R.page+=1})}," Вперед ")):Object(n["d"])("",!0)])]),w,Object(n["f"])("dl",T,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(A.paginatedTickers,(function(e){return Object(n["g"])(),Object(n["c"])("div",{key:e.name,onClick:function(t){return A.select(e)},class:[{"border-4":R.selectedTicker===e},"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer"]},[Object(n["f"])("div",C,[Object(n["f"])("dt",M,Object(n["i"])(e.name)+" - USD ",1),Object(n["f"])("dd",S,Object(n["i"])(e.price),1)]),z,Object(n["f"])("button",{onClick:Object(n["m"])((function(t){return A.handleDelete(e)}),["stop"]),class:"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none"},[I,U],8,["onClick"])],10,["onClick"])})),128))]),P],64)):Object(n["d"])("",!0),R.selectedTicker?(Object(n["g"])(),Object(n["c"])("section",D,[Object(n["f"])("h3",V,Object(n["i"])(R.selectedTicker.name)+" - USD ",1),Object(n["f"])("div",E,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(A.normalizedGraph,(function(e,t){return Object(n["g"])(),Object(n["c"])("div",{key:t,style:{height:"".concat(e,"%")},class:"bg-purple-800 border w-10"},null,4)})),128))]),Object(n["f"])("button",{onClick:t[8]||(t[8]=function(e){return R.selectedTicker=null}),type:"button",class:"absolute top-0 right-0"},[_])])):Object(n["d"])("",!0)])])])}r("99af"),r("cb29"),r("7db0"),r("4160"),r("caad"),r("a15b"),r("d81d"),r("fb6a"),r("b680"),r("c1f9"),r("b64b"),r("d3b7"),r("ac1f"),r("2532"),r("3ca3"),r("841c"),r("159b"),r("ddb0"),r("2b3d");var R=r("2909"),A=(r("96cf"),r("1da1")),B={name:"App",created:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n,c,i,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 3:if(r=t.sent,!r.ok){t.next=12;break}return t.next=7,r.json();case 7:n=t.sent,c=n.Data,e.cryptoObject=c,t.next=13;break;case 12:e.errorMessage="Coin list fetch failed. \n".concat(r.status," ").concat(r.statusText);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.errorMessage="Coin list fetch failed. \n".concat(t.t0," \nTry reloading this page.");case 18:e.subscribeToUpdates(),i=window.localStorage.getItem("cryptonomicon-list"),i&&(e.tickers=JSON.parse(i)),s=Object.fromEntries(new URLSearchParams(window.location.search).entries()),a=s.filter,o=s.page,o&&(e.page=+o),a&&(e.page=a);case 24:case"end":return t.stop()}}),t,null,[[0,15]])})))()},data:function(){return{ticker:"",tickers:[],selectedTicker:null,graph:[],cryptoObject:{},filter:"",page:1,errorMessage:null}},computed:{hasNextPage:function(){return this.filteredTickers.length>this.endIndex},filteredTickers:function(){var e=this;return this.tickers.filter((function(t){return t.name.includes(e.filter.toUpperCase())}))},startIndex:function(){var e=6*(this.page-1);return e},endIndex:function(){return 6*this.page},paginatedTickers:function(){return this.filteredTickers.slice(this.startIndex,this.endIndex)},ready:function(){return!this.errorMessage&&Object.keys(this.cryptoObject).length>0},hints:function(){var e=this;return 0===this.ticker.length?[]:Object.keys(this.cryptoObject).filter((function(t){return t.includes(e.ticker)||e.cryptoObject[t].FullName.toUpperCase().includes(e.ticker)})).slice(0,4)},tickerExists:function(){return!!this.findTicker(this.ticker)},normalizedGraph:function(){var e=Math.max.apply(Math,Object(R["a"])(this.graph)),t=Math.min.apply(Math,Object(R["a"])(this.graph));return t===e?new Array(this.graph.length).fill(50):this.graph.map((function(r){return 5+95*(r-t)/(e-t)}))},tickerIsValid:function(){return Object.keys(this.cryptoObject).includes(this.ticker)},pageStateOptions:function(){return{filter:this.filter,page:this.page}}},watch:{filter:function(){this.page=1},pageStateOptions:function(e){window.history.pushState(null,window.document.title,"".concat(window.location.pathname,"?page=").concat(e.page,"&filter=").concat(e.filter))},selectedTicker:function(){this.graph=[]},tickers:function(e){var t=this;localStorage.setItem("cryptonomicon-list",JSON.stringify(e)),e.find((function(e){var r;return e.name===(null===(r=t.selectedTicker)||void 0===r?void 0:r.name)}))||(this.selectedTicker=null)},filteredTickers:function(e){this.startIndex>=e.length&&(this.page=1)},ticker:function(e){this.ticker=e.toUpperCase()}},methods:{hintClick:function(e){this.ticker=e,this.add()},add:function(){if(!this.tickerExists&&this.tickerIsValid){var e={name:this.ticker,price:"-"};this.tickers=[].concat(Object(R["a"])(this.tickers),[e]),this.ticker=""}},select:function(e){this.selectedTicker=e},handleDelete:function(e){clearInterval(null===e||void 0===e?void 0:e.intervalID),this.tickers=this.tickers.filter((function(t){return t!==e}))},findTicker:function(e){return this.tickers.find((function(t){return t.name===e}))},subscribeToUpdates:function(){var e=this;setInterval(Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.tickers.length<1)){t.next=2;break}return t.abrupt("return");case 2:return r=e.tickers.map((function(e){return e.name})).join(","),t.next=5,fetch("https://min-api.cryptocompare.com/data/pricemulti?fsyms=".concat(r,"&tsyms=USD&api_key=95bdf7e8c4ef1827e5f4b13d319b2ac9b409aa62feedc30f0f6553924d6ab246"));case 5:if(n=t.sent,!n.ok){t.next=11;break}return t.next=9,n.json();case 9:c=t.sent,Object.keys(c).forEach((function(t){var r,n=c[t].USD;e.findTicker(t).price=n>1?n.toFixed(2):n.toPrecision(2),(null===(r=e.selectedTicker)||void 0===r?void 0:r.name)===t&&e.graph.push(n)}));case 11:case"end":return t.stop()}}),t)}))),10500)}}};B.render=N;var G=B;r("ba8c");Object(n["b"])(G).mount("#app")},ba8c:function(e,t,r){}});
//# sourceMappingURL=app.5ea720f2.js.map