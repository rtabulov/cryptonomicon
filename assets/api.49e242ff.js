import{d as e,o as t,c as r,B as n,C as o,r as a,n as s,b as i,a as c,e as u,D as l,u as f,F as d,y as p,h as m,w as h,t as g,p as y,E as v,G as b}from"./vendor.e07ea72e.js";import{_ as w}from"./index.0f4a6d56.js";const x=["value"];var E=e({props:{modelValue:{type:String,required:!1}},emits:["update:modelValue"],setup(e,{emit:n}){const o=e=>{n("update:modelValue",e.target.value)};return(n,a)=>(t(),r("input",{class:"block relative shadow-md w-60 pr-10 p-2 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",value:e.modelValue,onInput:o},null,40,x))}});const k={},S={type:"button",class:"inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"};k.render=function(e,o){return t(),r("button",S,[n(e.$slots,"default")])};var j={exports:{}},O=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},C=O,T=Object.prototype.toString;function N(e){return"[object Array]"===T.call(e)}function A(e){return void 0===e}function R(e){return null!==e&&"object"==typeof e}function B(e){if("[object Object]"!==T.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function U(e){return"[object Function]"===T.call(e)}function P(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),N(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var D={isArray:N,isArrayBuffer:function(e){return"[object ArrayBuffer]"===T.call(e)},isBuffer:function(e){return null!==e&&!A(e)&&null!==e.constructor&&!A(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:R,isPlainObject:B,isUndefined:A,isDate:function(e){return"[object Date]"===T.call(e)},isFile:function(e){return"[object File]"===T.call(e)},isBlob:function(e){return"[object Blob]"===T.call(e)},isFunction:U,isStream:function(e){return R(e)&&U(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:P,merge:function e(){var t={};function r(r,n){B(t[n])&&B(r)?t[n]=e(t[n],r):B(r)?t[n]=e({},r):N(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)P(arguments[n],r);return t},extend:function(e,t,r){return P(t,(function(t,n){e[n]=r&&"function"==typeof t?C(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},L=D;function q(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var M=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(L.isURLSearchParams(t))n=t.toString();else{var o=[];L.forEach(t,(function(e,t){null!=e&&(L.isArray(e)?t+="[]":e=[e],L.forEach(e,(function(e){L.isDate(e)?e=e.toISOString():L.isObject(e)&&(e=JSON.stringify(e)),o.push(q(t)+"="+q(e))})))})),n=o.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},F=D;function $(){this.handlers=[]}$.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},$.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},$.prototype.forEach=function(e){F.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var _=$,I=D,J=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},V=J,H=function(e,t,r,n,o){var a=new Error(e);return V(a,t,r,n,o)},z=H,G=D,W=G.isStandardBrowserEnv()?{write:function(e,t,r,n,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),G.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),G.isString(n)&&s.push("path="+n),G.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},K=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},X=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Y=D,Z=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Q=D,ee=Q.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=Q.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},te=D,re=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(z("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)},ne=W,oe=M,ae=function(e,t){return e&&!K(t)?X(e,t):t},se=function(e){var t,r,n,o={};return e?(Y.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=Y.trim(e.substr(0,n)).toLowerCase(),r=Y.trim(e.substr(n+1)),t){if(o[t]&&Z.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o},ie=ee,ce=H,ue=function(e){return new Promise((function(t,r){var n=e.data,o=e.headers,a=e.responseType;te.isFormData(n)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var i=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(i+":"+c)}var u=ae(e.baseURL,e.url);function l(){if(s){var n="getAllResponseHeaders"in s?se(s.getAllResponseHeaders()):null,o={data:a&&"text"!==a&&"json"!==a?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:n,config:e,request:s};re(t,r,o),s=null}}if(s.open(e.method.toUpperCase(),oe(u,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=l:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(l)},s.onabort=function(){s&&(r(ce("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){r(ce("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(ce(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},te.isStandardBrowserEnv()){var f=(e.withCredentials||ie(u))&&e.xsrfCookieName?ne.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}"setRequestHeader"in s&&te.forEach(o,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)})),te.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),a&&"json"!==a&&(s.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),r(e),s=null)})),n||(n=null),s.send(n)}))},le=D,fe=function(e,t){I.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},de=J,pe={"Content-Type":"application/x-www-form-urlencoded"};function me(e,t){!le.isUndefined(e)&&le.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var he,ge={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(he=ue),he),transformRequest:[function(e,t){return fe(t,"Accept"),fe(t,"Content-Type"),le.isFormData(e)||le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)?e:le.isArrayBufferView(e)?e.buffer:le.isURLSearchParams(e)?(me(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):le.isObject(e)||t&&"application/json"===t["Content-Type"]?(me(t,"application/json"),function(e,t,r){if(le.isString(e))try{return(t||JSON.parse)(e),le.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&le.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o){if("SyntaxError"===a.name)throw de(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};ge.headers={common:{Accept:"application/json, text/plain, */*"}},le.forEach(["delete","get","head"],(function(e){ge.headers[e]={}})),le.forEach(["post","put","patch"],(function(e){ge.headers[e]=le.merge(pe)}));var ye=ge,ve=D,be=ye,we=function(e){return!(!e||!e.__CANCEL__)},xe=D,Ee=function(e,t,r){var n=this||be;return ve.forEach(r,(function(r){e=r.call(n,e,t)})),e},ke=we,Se=ye;function je(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Oe=D,Ce=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function i(e,t){return Oe.isPlainObject(e)&&Oe.isPlainObject(t)?Oe.merge(e,t):Oe.isPlainObject(t)?Oe.merge({},t):Oe.isArray(t)?t.slice():t}function c(n){Oe.isUndefined(t[n])?Oe.isUndefined(e[n])||(r[n]=i(void 0,e[n])):r[n]=i(e[n],t[n])}Oe.forEach(n,(function(e){Oe.isUndefined(t[e])||(r[e]=i(void 0,t[e]))})),Oe.forEach(o,c),Oe.forEach(a,(function(n){Oe.isUndefined(t[n])?Oe.isUndefined(e[n])||(r[n]=i(void 0,e[n])):r[n]=i(void 0,t[n])})),Oe.forEach(s,(function(n){n in t?r[n]=i(e[n],t[n]):n in e&&(r[n]=i(void 0,e[n]))}));var u=n.concat(o).concat(a).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return Oe.forEach(l,c),r};var Te={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]},Ne={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ne[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var Ae={},Re=Te.version.split(".");function Be(e,t){for(var r=t?t.split("."):Re,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}Ne.transitional=function(e,t,r){var n=t&&Be(t);function o(e,t){return"[Axios v"+Te.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,a,s){if(!1===e)throw new Error(o(a," has been removed in "+t));return n&&!Ae[a]&&(Ae[a]=!0,console.warn(o(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}};var Ue=D,Pe=M,De=_,Le=function(e){return je(e),e.headers=e.headers||{},e.data=Ee.call(e,e.data,e.headers,e.transformRequest),e.headers=xe.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),xe.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Se.adapter)(e).then((function(t){return je(e),t.data=Ee.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return ke(t)||(je(e),t&&t.response&&(t.response.data=Ee.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},qe=Ce,Me={isOlderVersion:Be,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var a=n[o],s=t[a];if(s){var i=e[a],c=void 0===i||s(i,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:Ne},Fe=Me.validators;function $e(e){this.defaults=e,this.interceptors={request:new De,response:new De}}$e.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=qe(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Me.assertOptions(t,{silentJSONParsing:Fe.transitional(Fe.boolean,"1.0.0"),forcedJSONParsing:Fe.transitional(Fe.boolean,"1.0.0"),clarifyTimeoutError:Fe.transitional(Fe.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!n){var s=[Le,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var i=e;r.length;){var c=r.shift(),u=r.shift();try{i=c(i)}catch(l){u(l);break}}try{o=Le(i)}catch(l){return Promise.reject(l)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},$e.prototype.getUri=function(e){return e=qe(this.defaults,e),Pe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Ue.forEach(["delete","get","head","options"],(function(e){$e.prototype[e]=function(t,r){return this.request(qe(r||{},{method:e,url:t,data:(r||{}).data}))}})),Ue.forEach(["post","put","patch"],(function(e){$e.prototype[e]=function(t,r,n){return this.request(qe(n||{},{method:e,url:t,data:r}))}}));var _e=$e;function Ie(e){this.message=e}Ie.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ie.prototype.__CANCEL__=!0;var Je=Ie,Ve=Je;function He(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new Ve(e),t(r.reason))}))}He.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},He.source=function(){var e;return{token:new He((function(t){e=t})),cancel:e}};var ze=He,Ge=D,We=O,Ke=_e,Xe=Ce;function Ye(e){var t=new Ke(e),r=We(Ke.prototype.request,t);return Ge.extend(r,Ke.prototype,t),Ge.extend(r,t),r}var Ze=Ye(ye);Ze.Axios=Ke,Ze.create=function(e){return Ye(Xe(Ze.defaults,e))},Ze.Cancel=Je,Ze.CancelToken=ze,Ze.isCancel=we,Ze.all=function(e){return Promise.all(e)},Ze.spread=function(e){return function(t){return e.apply(null,t)}},Ze.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},j.exports=Ze,j.exports.default=Ze;var Qe=j.exports;const et=o("global",{state:()=>({cryptoObject:{},BTCvalue:0}),actions:{async loadCryptoObject(){const e=await Qe.get("https://min-api.cryptocompare.com/data/all/coinlist?summary=true",{timeout:5e3});return this.cryptoObject=e.data.Data,this.cryptoObject}}}),tt={class:"flex"},rt={class:"max-w-xs"},nt=c("label",{for:"wallet",class:"block text-sm font-medium text-gray-700"},"Тикер",-1),ot={class:"mt-1 relative rounded-md shadow-md"},at={key:0,class:"flex bg-white shadow-md p-1 rounded-md flex-wrap"},st=["onClick"],it={key:1,class:"text-sm text-red-600"},ct=y(" Добавить ");var ut=e({props:{checkTicker:{type:Function,default:()=>!1}},emits:["addTicker"],setup(e,{emit:n}){const o=e,{cryptoObject:y}=et(),v=a("");s(v,(e=>{v.value=e.toUpperCase()}));const b=i((()=>{return e=v.value,Object.keys(y).filter((t=>t.includes(e)||y[t].FullName.toUpperCase().includes(e))).slice(0,4);var e})),x=i((()=>o.checkTicker(v.value)));function S(){0!==v.value.length&&(n("addTicker",v.value),v.value="")}return(e,n)=>{const o=E,a=w,s=k;return t(),r("section",null,[c("div",tt,[c("div",rt,[nt,c("div",ot,[u(o,{id:"wallet",modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),type:"text",name:"wallet",placeholder:"Например DOGE",onKeydown:l(S,["enter"])},null,8,["modelValue","onKeydown"])]),v.value.length>0&&f(b)?(t(),r("div",at,[(t(!0),r(d,null,p(f(b),(e=>(t(),r("span",{key:e,class:"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer",onClick:t=>function(e){v.value=e,S()}(e)},g(e),9,st)))),128))])):m("",!0),f(x)?(t(),r("div",it," Такой тикер уже добавлен ")):m("",!0)])]),u(s,{class:"mt-4",onClick:S},{default:h((()=>[u(a,{class:"-ml-0.5 mr-2 h-6 w-6",name:"add"}),ct])),_:1})])}}});const lt={class:"px-4 py-5 sm:p-6 text-center"},ft={class:"text-sm font-medium text-gray-500 truncate"},dt={class:"mt-1 text-3xl font-semibold text-gray-900"},pt=c("div",{class:"w-full border-t border-gray-200"},null,-1),mt=y(" Удалить ");var ht=e({props:{selected:{type:Boolean,required:!1,default:!1},error:{type:Boolean,required:!1,default:!1},ticker:{type:null,required:!0}},emits:["delete"],setup(e){const n=e,o=i((()=>n.ticker.price?n.ticker.price<1?n.ticker.price.toPrecision(3):n.ticker.price.toFixed(2):"-"));return(n,a)=>{const s=w;return t(),r("div",{class:b(["bg-white overflow-hidden shadow rounded-lg cursor-pointer transition-shadow ring-purple-800",{"ring-4":e.selected,"bg-red-100":e.error}])},[c("div",lt,[c("dt",ft,g(e.ticker.name)+" - USD ",1),c("dd",dt,g(f(o)),1)]),pt,c("button",{class:"w-full flex items-center justify-center font-medium bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-50 transition-all focus:outline-none",onClick:a[0]||(a[0]=v((t=>n.$emit("delete",e.ticker)),["stop"]))},[u(s,{class:"h-5 w-5",name:"delete"}),mt])],2)}}});function gt(e,t){const r=yt(t);return r&&(e.value=r),s(a(t),(()=>{const r=yt(t);r&&(e.value=r)})),s(e,(e=>{localStorage.setItem(f(t),JSON.stringify(e))}),{deep:!0}),e}function yt(e){const t=localStorage.getItem(f(e));return t?JSON.parse(t):null}let vt;const bt=new Map,wt=new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=2ff61d15a69cfe520b25c807f16008c4deb52deced5f8189fba08bfd443bbed6"),xt={aggregate:{type:"5",name:"CCCAGG"},coinbase:{type:"2",name:"Coinbase"},binance:{type:"2",name:"Binance"}},Et=Object.fromEntries(Object.entries(xt).map((([e,{name:t}])=>[t,e])));function kt(e,t,r="USD",n="aggregate"){const o=bt.get(e)||[];bt.set(e,[...o,t]),jt({action:"SubAdd",subs:[`${xt[n].type}~${xt[n].name}~${e}~${r}`]})}function St(e,t,r="USD",n="aggregate"){if(!t&&"BTC"!==e)return jt({action:"SubRemove",subs:[`${xt[n].type}~${xt[n].name}~${e}~${r}`]}),jt({action:"SubRemove",subs:[`${xt[n].type}~${xt[n].name}~${e}~BTC`]}),void bt.delete(e);const o=bt.get(e)||[];bt.set(e,o.filter((e=>e!==t)))}function jt(e){const t=wt.send.bind(wt,JSON.stringify(e));wt.readyState!==WebSocket.OPEN?wt.addEventListener("open",t):t()}wt.addEventListener("message",(e=>{const t=JSON.parse(e.data),{TYPE:r,MESSAGE:n,INFO:o,MARKET:a}=t;if("500"!==r||"INVALID_SUB"!==n){if("2"===r||"5"===r){const{FROMSYMBOL:e,PRICE:r,TOSYMBOL:n}=t,o=Et[a];if(r){(bt.get(e)||[]).forEach((a=>a({market:o,name:e,price:r,tsym:n,error:!1,message:t})))}}}else{const e=t.PARAMETER.split("~")[2],r=function(e){return e.split("~")[3]}(t.PARAMETER),n=function(e){return Et[e.split("~")[1]]}(t.PARAMETER);if("USD"===r&&"BTC"===e){const t=bt.get(e)||[];return bt.delete(e),void t.forEach((t=>{kt(e,(({name:e,error:n,price:o,message:a,market:s})=>{t({name:e,error:n,price:o,message:a,tsym:r,market:s})}),"USDT",n)}))}if("USD"===r&&"BTC"!==e){const t=bt.get(e)||[];return bt.delete(e),void t.forEach((t=>{kt(e,(({name:e,error:r,price:n,message:o,market:a,tsym:s})=>{t({name:e,error:r,price:"BTC"===s?vt*n:n,message:o,tsym:"USD",market:a})}),"BTC",n)}))}const s=bt.get(e);if(!s)return void St(e);const i=Et[a];s.forEach((t=>t({market:i,name:e,error:!0,message:o,tsym:r,price:NaN})))}})),kt("BTC",(({price:e})=>vt=e));export{E as _,k as a,et as b,ut as c,St as d,ht as e,kt as s,gt as u};
